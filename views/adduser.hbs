<h1>{{title}}</h1>

<form id="addNewMemberFormId">
    <div class="form-group row">
        <label for="inputName" class="col-sm-2 col-form-label">Name</label>
        <div class="col-sm-10">
            <input type="name" class="form-control" id="inputName" name="inputName" placeholder="Name">
        </div>
    </div>
    <div class="form-group row">
        <label for="inputPhone" class="col-sm-2 col-form-label">Phone</label>
        <div class="col-sm-10">
            <input type="phone" class="form-control" id="inputPhone" name="inputPhone" placeholder="Phone">
        </div>
    </div>
    <div class="form-group row">
        <label for="inputEmail" class="col-sm-2 col-form-label">Email</label>
        <div class="col-sm-10">
            <input type="email" class="form-control" id="inputEmail" name="inputEmail" placeholder="Email">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <button type="submit" class="btn btn-primary" id="addNewMemberBtn"> Add New Member </button>
        </div>
    </div>
</form>

<form id="formElem">
    <input type="text" name="name" value="John">
    <input type="text" name="surname" value="Smith">
    <input type="text" name="phone">
    <input type="submit">
</form>


<script>

    window.post = function (url, data) {
        return fetch(url, { method: "POST", body: JSON.stringify(data) });
    }
    post("/users/add", { element: "osmium" });

    formElem.onsubmit = async (e) => {
        e.preventDefault();
        const formData2 = new FormData(formElem)
        {{!-- console.log("formData2: ", JSON.stringify(formData2), formData2) --}}
        console.log("...formData2:", ...formData2)
        console.log("...[...formData2]: ",[...formData2])
        formData2.forEach(entries => console.log(entries));

        let response = await fetch('/users/add', {
            method: 'POST',
            body: new FormData(formElem)
        });

        let result = await response.json();

        console.log("server response: ",result.text);
    }
</script>